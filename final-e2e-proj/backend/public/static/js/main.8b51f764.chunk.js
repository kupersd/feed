(this.webpackJsonpe2e=this.webpackJsonpe2e||[]).push([[0],{71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n(15),s=n.n(c),o=n(18),i=n(37),u=n(4);function l(){return Object(r.jsx)("section",{className:"app-header",children:Object(r.jsxs)("div",{className:"flex align-center space-around",children:[Object(r.jsx)("img",{src:"favicon.png",alt:""}),Object(r.jsx)("h1",{children:"Feed Me Seymor"}),Object(r.jsx)("h2",{children:"Tell us what's on your mind"})]})})}var d=n(17),g=n(2),h=n(5),j=n.n(h),p=n(10),b=n(34),O=n(35),m=n(41),f=n(39);function v(e){var t=e.msgs;return Object(r.jsx)("ul",{className:"feed-messages clean-list",children:t.map((function(e){return Object(r.jsxs)("li",{className:"flex align-center",children:[Object(r.jsx)("div",{className:"avatar",children:Object(r.jsx)("img",{src:e.imgUrl,alt:""})}),Object(r.jsxs)("div",{className:"flex column",children:[Object(r.jsx)("h4",{children:e.email}),Object(r.jsx)("p",{children:e.txt})]})]},e._id)}))})}var x=n(36),w="/api/",S=n.n(x).a.create({withCredentials:!0}),y=function(e,t){return _(e,"GET",t)},M=function(e,t){return _(e,"POST",t)},E=function(e,t){return _(e,"DELETE",t)};function _(e){return k.apply(this,arguments)}function k(){return(k=Object(p.a)(j.a.mark((function e(t){var n,r,a,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"get",r=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=2,e.next=5,S({url:"".concat(w).concat(t),method:n,data:r});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(r)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var T={add:function(e){return N.apply(this,arguments)},query:function(e){var t=e?"?txt=".concat(e.txt):"";return y("msg".concat(t))},remove:function(e){return E("msg/".concat(e))}};function N(){return(N=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("msg",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={msg:{txt:"",email:""}},e.onAddMsg=function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,e.props.addMsg(e.state.msg);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{msg:Object(g.a)(Object(g.a)({},e.msg),{},Object(d.a)({},r,a))})}))},e.handleFilterChange=function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.loadMsgs({txt:n.target.value});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.loadMsgs();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.msg,t=this.props.msgs;return Object(r.jsxs)("section",{className:"feed",children:[Object(r.jsxs)("form",{className:"compose",onSubmit:this.onAddMsg,children:[Object(r.jsx)("input",{placeholder:"Email",type:"text",name:"email",onChange:this.handleChange,value:e.email}),Object(r.jsx)("textarea",{rows:"5",cols:"60",placeholder:"Message",name:"txt",onChange:this.handleChange,value:e.txt}),Object(r.jsx)("button",{children:"SUBMIT"})]}),Object(r.jsx)("div",{className:"filter",children:Object(r.jsx)("input",{type:"text",name:"filterBy",onChange:this.handleFilterChange,placeholder:"Search"})}),Object(r.jsx)(v,{msgs:t})]})}}]),n}(a.Component),D={loadMsgs:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.query(e);case 3:r=t.sent,n({type:"SET_MSGS",msgs:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("MsgActions: err in loadMsgs",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},addMsg:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.add(e);case 3:r=t.sent,n({type:"ADD_MSG",msg:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("MsgActions: err in addMsg",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},I=Object(o.b)((function(e){return{msgs:e.msgModule.msgs}}),D)(C);function U(){return Object(r.jsx)("div",{className:"app",children:Object(r.jsxs)(i.a,{children:[Object(r.jsx)("header",{children:Object(r.jsx)(l,{})}),Object(r.jsx)("main",{children:Object(r.jsx)(u.c,{children:Object(r.jsx)(u.a,{path:"/",component:I})})})]})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(71);var A=n(12),G=n(38),L=n(40),R={msgs:[]};var F=null;sessionStorage.loggedinUser&&(F=JSON.parse(sessionStorage.loggedinUser));var B={loggedInUser:F,users:[]};var P={isLoading:!1};var J=Object(A.c)({systemModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(g.a)(Object(g.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(g.a)(Object(g.a)({},e),{},{isLoading:!1});default:return e}},msgModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_MSGS":return Object(g.a)(Object(g.a)({},e),{},{msgs:t.msgs});case"ADD_MSG":return Object(g.a)(Object(g.a)({},e),{},{msgs:[].concat(Object(L.a)(e.msgs),[t.msg])});case"REMOVE_MSG":return Object(g.a)(Object(g.a)({},e),{},{msgs:e.msgs.filter((function(e){return e._id!==t.msgId}))});case"UPDATE_MSG":return Object(g.a)(Object(g.a)({},e),{},{msgs:e.msgs.map((function(e){return e._id===t.msg._id?t.msg:e}))});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(g.a)(Object(g.a)({},e),{},{loggedInUser:t.user});case"REMOVE_USER":return Object(g.a)(Object(g.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(g.a)(Object(g.a)({},e),{},{users:t.users});case"SET_SCORE":return Object(g.a)(Object(g.a)({},e),{},{loggedInUser:Object(g.a)(Object(g.a)({},e.loggedInUser),{},{score:t.score})});default:return e}}}),V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,q=Object(A.e)(J,V(Object(A.a)(G.a))),W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(r.jsx)(o.a,{store:q,children:Object(r.jsx)(U,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),W()}},[[72,1,2]]]);
//# sourceMappingURL=main.8b51f764.chunk.js.map